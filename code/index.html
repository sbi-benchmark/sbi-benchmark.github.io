<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@janmatthis">
<meta name="twitter:creator" content="@janmatthis">
<meta name="twitter:title" content="Benchmarking Simulation-Based Inference">
<meta name="twitter:description" content="Project website with paper summary, interactive results, and code.">
<meta name="twitter:image" content="https://sbi-benchmark.github.io/assets/img/social_card.jpg">
<title>Code & Reproducibility - SBI Benchmark</title>
<link rel="stylesheet" href="https://sbi-benchmark.github.io/assets/css/bulma.min.css">
<link rel="stylesheet" href="https://sbi-benchmark.github.io/assets/css/custom.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/styles/github.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/highlight.min.js"></script>
  </head>
  <body class="has-navbar-fixed-top">
    <div id="wrapper">
      <nav class="navbar is-fixed-top is-white is-transparent has-shadow">
  <div class="navbar-brand">
    <a class="navbar-item" href="/">
      <!-- <b>SBI Benchmark</b> -->
      <!-- <img src="img/logo.png" /> -->
    </a>
    <div class="navbar-burger burger" data-target="navbar">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <div id="navbar" class="navbar-menu">
    <div class="navbar-start">
      
        
          <a class="navbar-item not-current" href="..">
            Overview
          </a>
        
      
        
          <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link not-current" href="..">
                Interactive Results
              </a>
              <div class="navbar-dropdown is-boxed">
                
                  <a class="navbar-item not-current" href="https://sbi-benchmark-streamlit-metrics-5h5b07.streamlit.app" target="_blank">
                    Metrics
                  </a>
                
                  <a class="navbar-item not-current" href="https://sbi-benchmark-streamlit-posteriors-3rtkv1.streamlit.app" target="_blank">
                    Posteriors
                  </a>
                
                  <a class="navbar-item not-current" href="https://sbi-benchmark-streamlit-correlations-y32m8z.streamlit.app" target="_blank">
                    Correlations
                  </a>
                
              </div>
          </div>
        
      
        
          <a class="navbar-item is-current" href="./">
            Code & Reproducibility
          </a>
        
      
        
          <a class="navbar-item not-current" href="../contribute/">
            Contributions
          </a>
        
      
    </div>

    <div class="navbar-end">
      <div class="navbar-item">
        <div class="field is-grouped">
          <p class="control">
            <a class="button is-dark" href="https://github.com/sbi-benchmark/sbibm" target="_blank">
              <span class="icon">
                <img src="https://sbi-benchmark.github.io/img/github_white.svg" />
              </span>
              <span style="padding-left: 6px">Code</span>
            </a>
          </p>
          <p class="control">
            <a class="button is-dark" href="https://arxiv.org/abs/2101.04653" target="_blank">
              <span class="icon" style="padding: 1px;">
                <img src="https://sbi-benchmark.github.io/img/adobeacrobatreader_white.svg" />
              </span>
              <span style="padding-left: 6px">
                Paper
              </span>
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</nav>
      <section class="section">
        <div class="container">
          <div class="columns">
            <div class="column is-7 is-offset-2">
              <div class="content">
                 <h1 id="code-and-reproducibility">Code and Reproducibility</h1>
<h2 id="how-to-benchmark-new-algorithms">How to benchmark new algorithms?</h2>
<p>We provide <a href="https://github.com/sbi-benchmark/sbibm"><code>sbibm</code></a>, a simulation-based inference benchmarking framework, which is available at:</p>
<blockquote>
<p><a href="https://github.com/sbi-benchmark/sbibm">github.com/sbi-benchmark/sbibm</a></p>
</blockquote>
<p><code>sbibm</code> includes tasks, reference posteriors, metrics, plotting, and integrations with exiting algorithm toolboxes. It is designed to be highly extensible and easily used in research projects: Having installed the framework via <code>pip install sbibm</code>, using it to benchmark existing or new algorithms is very simple, as we sketch out in the example code below:</p>
<pre><code class="language-python">import sbibm

task = sbibm.get_task(&quot;two_moons&quot;)  # See sbibm.get_available_tasks() for all tasks
prior = task.get_prior()
simulator = task.get_simulator()
observation = task.get_observation(num_observation=1)  # 10 per task

# These objects can then be used for custom inference algorithms, e.g.
# we might want to generate simulations by sampling from prior:
thetas = prior(num_samples=10_000)
xs = simulator(thetas)

# Alternatively, we can import existing algorithms, e.g:
from sbibm.algorithms import rej_abc  # See help(rej_abc) for keywords
posterior_samples, _, _ = rej_abc(task=task, num_samples=10_000, num_observation=1, num_simulations=100_000)

# Once we got samples from an approximate posterior, compare them to the reference:
from sbibm.metrics import c2st
reference_samples = task.get_reference_posterior_samples(num_observation=1)
c2st_accuracy = c2st(reference_samples, posterior_samples)

# Visualise both posteriors:
from sbibm.visualisation import fig_posterior
fig = fig_posterior(task_name=&quot;two_moons&quot;, observation=1, samples=[posterior_samples])  
# Note: Use fig.show() or fig.save() to show or save the figure

# Get results from other algorithms for comparison:
from sbibm.visualisation import fig_metric
results_df = sbibm.get_results(dataset=&quot;main_paper.csv&quot;)
fig = fig_metric(results_df.query(&quot;task == 'two_moons'&quot;), metric=&quot;C2ST&quot;)
</code></pre>
<p>More details can be found <a href="https://github.com/sbi-benchmark/sbibm">in the <code>sbibm</code> repository</a>.</p>
<h2 id="manuscript-results">Manuscript results</h2>
<p>All results of the manuscript, as well as code and instructions to reproduce them, are available at:</p>
<blockquote>
<p><a href="https://github.com/sbi-benchmark/results/tree/main/benchmarking_sbi">github.com/sbi-benchmark/results/benchmarking_sbi</a></p>
</blockquote> 
              </div>
            </div>
            
            <div class="column is-3 is-hidden-touch">
              <aside class="menu has-navbar-fixed-top">
  
    
      <ul class="menu-list">
        
          <li>
  
    <ul>
      
        <li>
  <a href="#how-to-benchmark-new-algorithms" class="is-size-7">How to benchmark new algorithms?</a>
  
</li>
      
        <li>
  <a href="#manuscript-results" class="is-size-7">Manuscript results</a>
  
</li>
      
    </ul>
  
</li>
        
      </ul>
    
  
</aside>
            </div>
            
          </div>
        </div>
      </section>
    </div>
    <footer class="footer">
  <div class="has-text-centered">
    <p>
      If you have questions or comments, please do not hesitate to <a href="mailto:mail@jan-matthis.de,jakob.macke@uni-tuebingen.de">contact us</a>.
    </p>
  </div>
</footer>
  </body>
  <script type="text/javascript">
  document.addEventListener('DOMContentLoaded', () => {

    // Get all "navbar-burger" elements
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    // Check if there are any navbar burgers
    if ($navbarBurgers.length > 0) {

      // Add a click event on each of them
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {

          // Get the target from the "data-target" attribute
          const target = el.dataset.target;
          const $target = document.getElementById(target);

          // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');

        });
      });
    }

  });
</script>
<script>hljs.initHighlightingOnLoad();</script>
</html>